<!DOCTYPE html>
<html lang="eng">
    <link rel="stylesheet" href="css/styleParametres.css" class="stylesheet">
    <link rel="stylesheet" href="css/style.css" class="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <body>
        <div class="hero" style="background-image: url(`images/cozy.jpg`);">
            <div class="container">
                <header>
                <div class="navbar">
                    <div class="logo"><a href="accueil">Studialy</a></div>
                    <ul class="links">
                        <li>
                            <a href="accueil"><i class="fa-solid fa-house"></i> Accueil</a>
                        </li>
                        <li>
                            <a href="pomodoro"><i class="fa-solid fa-clock"></i> Pomodoro</a>
                        </li>
                        <li>
                            <a href="a-propos"><i class="fa-solid fa-circle-info"></i> À propos de nous</a>
                        </li>
                        <li>
                            <a class="connecter"  href="connexion"><i class="fa-solid fa-user"></i> <span>Se connecter</span></a>
                        </li>
                        <li>
                            <a href="parametres"><i class="fa fa-cog" aria-hidden="true"></i> Paramètres</a>
                        </li>
                    </ul>
                    <!--<a href="#" class="action_btn"></a>-->
                    <div class="toggle_btn">
                        <i class="fa-solid fa-bars"></i>
                    </div>
                </div>
                </header>
                <div class="sectionsParam">
                <h2 id="fond_ecran">
                    Fond d'écran
                    <div class="back">
                        <div class="back-change"><img src="images/mountain_realist.jpg" alt=""></div>
                        <div class="back-change"><img src="images/sakura.jpg" alt=""></div>
                        <div class="back-change"><img src="images/tree.jpg" alt=""></div>
                        <div class="back-change"><img src="images/tree2.jpg" alt=""></div>
                        <div class="back-change"><img src="images/ville.jpg" alt=""></div>
                        <div class="back-change"><img src="images/lofi.jpg" alt=""></div>
                        <div class="back-change"><img src="images/autumn-night.jpg" alt=""></div>
                        <div class="back-change"><img src="images/cozy.jpg" alt=""></div>
                    </div>
                </h2>
                <h2 id="pomodoro">
                    <div style="position: relative; left: 385px; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">Pomodoro</div>
                    <div class="change-timer">
                        <textarea name="pomodoro" id="pomodoro-param">25</textarea>
                        <textarea name="shortBreak" id="shortBreak-param">5</textarea>
                        <textarea name="longBreak" id="longBreak-param">15</textarea>
                    </div>
                    <button class="sauvegarder">Sauvegarder</button>
                </h2>
                </div>
            </div>
        </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> 
        <script src="js/pomodoro.js"></script>
        <script src="js/fond_ecran.js"></script>
        <script src="js/main.js"></script>
        <%if(isPasswordMatch) {%>
        <script src="js/connexion.js"></script>
        <%  } %>
        <script>
            $(".sauvegarder").click(function(){
                $(".sauvegarder").removeClass("clicked");
                $(this).addClass("clicked");
                const tempPomo = document.getElementById("pomodoro-param").value;
                const tempShort = document.getElementById("shortBreak-param").value;
                const tempLong = document.getElementById("longBreak-param").value;
 
                const regEx = /^[0-9]+$/;
                if (regEx.test(tempPomo) && regEx.test(tempShort) && regEx.test(tempLong)) {
                    localStorage.setItem('pomodoro', tempPomo);
                    localStorage.setItem('shortBreak', tempShort);
                    localStorage.setItem('longBreak', tempLong);
      
                    document.getElementById("pomodoro-param").value = tempPomo;
                    document.getElementById("shortBreak-param").value = tempShort;
                    document.getElementById("longBreak-param").value = tempLong;

                    window.location.href = 'pomodoro';
                } else {
                    alert("Veuillez entrer une valeur numérique valide.");
                }
            })
        </script>
    </body>
</html>
</html>